if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("LSInsertLockStatus",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.db.table(78).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({lockStatus:a[2],isOpen:a[1],authorityLevel:[0,80],canAnonymousUsersJoin:a[3]})})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSRoomTruncate",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d;return b.seq([function(a){return b.fe(b.ftr(b.db.table(63).fetch(),function(a){return b.i64.eq(a.groupRoomType,d)||b.i64.eq(a.groupRoomType,[0,5])}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSRoomUpsert",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.ftr(b.db.table(63).fetch([[[a[1]]],"optimistic"]),function(c){return c.optimisticClientToken===a[1]&&b.i64.gt(c.authorityLevel,[0,80])}).next().then(function(c){var d=c.done;c.value;return d?b.db.table(63).put({roomId:a[0],optimisticClientToken:a[1],ownerId:a[2],url:a[3],name:a[4],emoji:a[5],callstartTimestampMs:a[6],expirationTimestampMs:a[7],lockStatus:a[11],audienceType:a[8],inviteeType:a[9],capacity:a[12],authorityLevel:[0,80],activeParticipantCount:a[13],chatMode:[0,2],groupId:a[14],color:a[15],roomImageUrl:a[16]}):0})},function(a){return b.resolve(c)}])}e.exports=a}),null);