if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("LSUpdateLastSyncCompletedTimestampMsToNow",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.db.table(1).fetch([[[a[0]]]]),function(a){var c=a.update;a.item;return c({lastSyncCompletedTimestampMs:b.i64.of_float(Date.now())})})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSHandlePlaceholderPollData",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(38).fetch([[[a[0]]]]).next().then(function(c,d){var e=c.done;c=c.value;return e?0:(d=c.item,b.ftr(b.db.table(38).fetch([[[a[0]]]]),function(c){return b.i64.eq(c.pollId,a[0])&&b.i64.gt(c.authorityLevel,[0,80])}).next().then(function(e){var c=e.done;e.value;return c?b.db.table(38).put({pollId:a[0],authorityLevel:[0,80],threadKey:d.threadKey,lastUpdateMessageId:d.lastUpdateMessageId,lastUpdateMessageTimestampMs:d.lastUpdateMessageTimestampMs,lastUpdateMessageEventType:d.lastUpdateMessageEventType,pollType:[0,0],pollStage:[0,1]}):0}))})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSInsertRtcSignal",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(22).add({timestampMs:a[0],type_:a[1],payload:a[2]})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSReplaceOptimisticReaction",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.ftr(b.db.table(8).fetch([[[a[0],a[2],a[1]]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&c.messageId===a[2]&&b.i64.eq(c.actorId,a[1])&&b.i64.eq([0,0],[0,0])&&b.i64.le(c.authorityLevel,[0,20])}),function(a){var b=a.update;a.item;return b({authorityLevel:[0,60]})})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSReplaceOptimsiticMessage",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.ftr(b.db.table(12).fetch([[[a[0]]],"optimistic"]),function(c){return c.offlineThreadingId===a[0]&&b.i64.eq(c.authorityLevel,[0,20])}),function(b){var c=b.update;b.item;return c({messageId:a[1],authorityLevel:[0,60],sendStatus:[0,2],sendStatusV2:[0,2]})})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSUpdateDeliveryReceipt",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.ftr(b.db.table(14).fetch([[[a[1],{lt:a[0]},a[2]]],"threadKeyDeliveredWatermarkTimestampMs"]),function(c){return b.i64.eq(c.threadKey,a[1])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(c.contactId,a[2])&&b.i64.gt(a[0],c.deliveredWatermarkTimestampMs)}),function(b){var c=b.update;b.item;return c({deliveredWatermarkTimestampMs:a[0]})})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSUpdateOngoingCallServerInfoData",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(23).put({threadKey:a[0],ongoingCallServerInfoData:a[1],willExpandToNewThread:a[2]})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSUpdateSearchQueryStatus",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.seq([function(c){return b.i64.eq(a[1],[0,1])?b.fe(b.db.table(67).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({statusPrimary:a[2],endTimeMs:a[3],resultCount:a[4]})}):b.resolve()},function(c){return b.i64.eq(a[1],[0,2])?b.fe(b.db.table(67).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({statusSecondary:a[2],endTimeMs:a[3],resultCount:a[4]})}):b.resolve()}])},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSUpdateTypingIndicator",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.seq([function(c){return a[2]?b.db.table(52).put({threadKey:a[0],senderId:a[1],expirationTimestampMs:b.i64.add(b.i64.of_float(Date.now()),[0,5e3])}):b.resolve()},function(c){return a[2]?b.resolve():b.fe(b.ftr(b.db.table(52).fetch([[[a[0],a[1]]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(c.senderId,a[1])}),function(a){return a["delete"]()})}])},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("ConsentScreenRootQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4463673887068559"}),null);